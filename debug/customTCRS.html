<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>index-map.html</title>
  <script type="module" src="../dist/nav.js"></script>
  <script type="module" src="../dist/mapml-viewer.js"></script>
  <script>
    function newTCRS() {
      let template = {
        projection: "custo",
        proj4string: "+proj=utm +zone=33 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs",
        code: "EPSG:3006",
        definition: {
          resolutions: [
            8192, 4096, 2048, 1024, 512, 256, 128
          ],
          origin: [0, 0]
        }
      };
      let cTCRS = navigator.getUserMapTCRS(template);
      let map = document.querySelector("mapml-viewer");
      map.crs = cTCRS;
    }
  </script>
</head>

<body onload="newTCRS()">
  <mapml-viewer projection="custom" zoom="2" lat="45" lon="-90" controls>
    <layer- label="CBMT" src="https://geogratis.gc.ca/mapml/en/cbmtile/cbmt/" checked></layer->
  </mapml-viewer>
  <mapml-viewer projection="CBMTILE" zoom="2" lat="45" lon="-90" controls>
    <layer- label="CBMT" src="https://geogratis.gc.ca/mapml/en/cbmtile/cbmt/" checked></layer->
  </mapml-viewer>
</body>

</html>